---
title: SSL/TLS协议
date: 2021-12-30 22:31:20
tags: SSL TLS HTTPS 技术 网络 协议
---

## 一、概述

发现自己对SSL/TLS知其然不知其所以然，写个小文章自己也加深下印象。

### 这玩意是啥

Secure Socket Layer（安全套接字层），Transport Layer Security（传输层安全）。TLS可以理解为SSL的后续版本。TLS与SSL在传输层与应用层之间对网络连接进行加密。

### 解决了啥问题

```txt
1. 窃听风险（eavesdropping）：第三方可以获知通信内容。
2. 篡改风险（tampering）：第三方可以修改通信内容。
3. 冒充风险（pretending）：第三方可以冒充他人身份参与通信。
```

### 解决问题后会怎么样?

```txt
1. 窃听风险（eavesdropping）：第三方可以获知通信内容。
2. 篡改风险（tampering）：第三方可以修改通信内容。
3. 冒充风险（pretending）：第三方可以冒充他人身份参与通信。
```

## 二、基本过程

### 他们是怎么做的？

```txt
客户端先向服务器端索要公钥，然后用公钥加密信息，服务器收到密文后，用自己的私钥解密。
```

### 公钥被人篡改了怎么办？

```txt
解决方法：将公钥放在数字证书中。只要证书是可信的，公钥就是可信的。
```

### 公钥加密计算量太大，如何减少耗用的时间？

```txt
解决方法：每一次对话（session），客户端和服务器端都生成一个"对话密钥"（session key），用它来加密信息。由于"对话密钥"是对称加密，所以运算速度非常快，而服务器公钥只用于加密"对话密钥"本身，这样就减少了加密运算的消耗时间。
```

### 所以，大致过程如下

```txt
1. 客户端向服务器端索要并验证公钥。
2. 双方协商生成"对话密钥"。(1,2 步为握手阶段)
3. 双方采用"对话密钥"进行加密通信。
```

## 三、详细过程

艹，阮一峰老师写的太好了，自己拿 let's encrypt 做做试验。或者自己签发一下证书试试看！详细看引用参考！

## 四、TLS1.3，Less is more

还在学！强制使用了DH算法来减少一次RTT！

---

### 参考文章

概述
> [SSL/TLS协议运行机制的概述](https://www.ruanyifeng.com/blog/2014/02/ssl_tls.html)

更详细的图解，多了一个 session 恢复的解释。
> [图解SSL/TLS协议](https://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html)
